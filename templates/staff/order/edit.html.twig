{% extends '_staff_layout.html.twig' %}

{% block title %}Edit Order{% endblock %}

{% block page_title %}Edit Order #{{ order.id }}{% endblock %}
{% block page_subtitle %}Update order details{% endblock %}

{% block staff_content %}
<div class="bg-white rounded-lg shadow-lg p-8 max-w-5xl">
  <div class="mb-8">
    {{ form_start(form) }}
      {{ form_widget(form) }}
      <div class="flex gap-3 mt-6">
        <button type="submit" class="px-6 py-3 bg-[#D62828] text-white rounded-lg hover:bg-red-700 transition font-semibold">
          Update Order
        </button>
        <a href="{{ path('app_staff_order_index') }}" class="px-6 py-3 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition font-medium">
          Cancel
        </a>
      </div>
    {{ form_end(form) }}
  </div>

  <a href="{{ path('app_staff_order_index') }}" class="inline-block mt-6 px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100 transition font-medium">
    ‚Üê Back to Orders
  </a>

  <!-- Delete Form -->
  <div class="mt-8 p-6 bg-red-50 border border-red-200 rounded-lg">
    <h3 class="text-lg font-semibold text-red-700 mb-4">Danger Zone</h3>
    <p class="text-gray-600 mb-4">Once you delete this order, there is no going back. Please be certain.</p>
    <form method="POST" action="{{ path('app_staff_order_delete', {'id': order.id}) }}" onsubmit="return confirm('Are you sure you want to delete this order? This action cannot be undone.');">
      <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ order.id) }}">
      <button type="submit" class="px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold">
        Delete Order
      </button>
    </form>
  </div>
</div>
{% endblock %}
